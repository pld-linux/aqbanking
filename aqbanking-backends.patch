--- aqbanking-3.0.1/src/plugins/backends/aqdtaus/plugin/provider.c.orig	2007-11-22 18:38:22.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqdtaus/plugin/provider.c	2008-01-05 17:53:46.576640664 +0100
@@ -270,7 +270,7 @@ AD_JOB *AD_Provider_FindMyJob(AB_PROVIDE
 
 
 
-int AD_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j){
+int AD_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid){
   AD_PROVIDER *dp;
   AB_ACCOUNT *da;
   AB_TRANSACTION_LIMITS *lim;
@@ -303,7 +303,7 @@ int AD_Provider_UpdateJob(AB_PROVIDER *p
 
 
 
-int AD_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j){
+int AD_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid){
   AD_PROVIDER *dp;
   AB_ACCOUNT *da;
   const AB_TRANSACTION *t;
@@ -547,7 +547,7 @@ int AD_Provider_MountDisc(AB_PROVIDER *p
 
     bid=GWEN_Gui_ShowBox(0,
 			 I18N("Mounting disc"),
-			 I18N("Mounting floppy disc, please wait..."));
+			 I18N("Mounting floppy disc, please wait..."), 0);
     rv=AD_Provider_ExecCommand(pro, cmd);
     GWEN_Gui_HideBox(bid);
     if (rv) {
@@ -570,7 +570,7 @@ int AD_Provider_UnmountDisc(AB_PROVIDER 
 
     bid=GWEN_Gui_ShowBox(0,
 			 I18N("Unmounting disc"),
-			 I18N("Unmounting floppy disc, please wait..."));
+			 I18N("Unmounting floppy disc, please wait..."), 0);
     rv=AD_Provider_ExecCommand(pro, cmd);
     GWEN_Gui_HideBox(bid);
     if (rv) {
@@ -776,7 +776,7 @@ int AD_Provider_PrintBegleitZettel(AB_PR
 		    "AQDTAUS:BEGLEITZETTEL",
 		    I18N("Diesen Zettel muessen Sie der Diskette "
 			 "beilegen."),
-		    GWEN_Buffer_GetStart(abuf));
+		    GWEN_Buffer_GetStart(abuf), 0);
   GWEN_Buffer_free(hbuf);
   GWEN_Buffer_free(abuf);
 
@@ -912,8 +912,8 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
   bio=GWEN_BufferedIO_Buffer2_new(buf, 0);
   GWEN_BufferedIO_SetWriteBuffer(bio, 0, 1024);
 
-  if (GWEN_DBIO_Export(dbio, bio, GWEN_DB_FLAGS_DEFAULT,
-                       dbTransfers, dbCfg)) {
+  if (GWEN_DBIO_Export(dbio, bio,
+                       dbTransfers, dbCfg, GWEN_DB_FLAGS_DEFAULT, 0, 0)) {
     DBG_ERROR(AQDTAUS_LOGDOMAIN, "Error creating DTAUS object");
     GWEN_BufferedIO_Abandon(bio);
     GWEN_BufferedIO_free(bio);
@@ -951,8 +951,8 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
   bio=GWEN_BufferedIO_Buffer2_new(buf, 0);
   GWEN_BufferedIO_SetReadBuffer(bio, 0, 1024);
 
-  err=GWEN_DBIO_Import(dbio, bio, GWEN_PATH_FLAGS_CREATE_GROUP,
-		       dbTransfers, dbCfg);
+  err=GWEN_DBIO_Import(dbio, bio,
+		       dbTransfers, dbCfg, GWEN_PATH_FLAGS_CREATE_GROUP, 0, 0);
   if (err) {
     DBG_ERROR(AQDTAUS_LOGDOMAIN, "Error re-importing DTAUS object");
     GWEN_BufferedIO_Abandon(bio);
@@ -995,7 +995,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 			   GWEN_GUI_MSG_FLAGS_SEVERITY_NORMAL,
 			   I18N("Insert Disc"),
 			   msgBuf,
-			   I18N("Ok"), I18N("Abort"), 0);
+			   I18N("Ok"), I18N("Abort"), NULL, 0);
     if (rv!=1) {
       DBG_ERROR(AQDTAUS_LOGDOMAIN, "User aborted");
       GWEN_Buffer_free(buf);
@@ -1027,7 +1027,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 				 "Please see console logs for details."
 				 "</p>"
 				 "</html>"),
-			    I18N("Dismiss"), 0, 0);
+			    I18N("Dismiss"), NULL, NULL, 0);
 	AD_Job_SetResult(dj, rv, I18N("Could not mount disc"));
         return rv;
       }
@@ -1059,7 +1059,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 				    "</html>"),
 			       I18N("Ok"),
 			       I18N("Use This Disc"),
-			       I18N("Abort"));
+			       I18N("Abort"), 0);
 	if (rv==2)
           break;
         else if (rv!=1) {
@@ -1086,7 +1086,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 				 "Please see console logs for details."
 				 "</p>"
 				 "</html>"),
-			    I18N("Dismiss"), 0, 0);
+			    I18N("Dismiss"), NULL, NULL, 0);
 	GWEN_Buffer_free(buf);
 	GWEN_DB_Group_free(dbTransfers);
         if (mounted)
@@ -1130,7 +1130,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 			     "Please see console logs for details."
 			     "</p>"
 			     "</html>"),
-			I18N("Dismiss"), 0, 0);
+			I18N("Dismiss"), NULL, NULL, 0);
     AD_Job_SetResult(dj, rv, I18N("Could not write DTAUS file"));
     GWEN_Buffer_free(buf);
     GWEN_DB_Group_free(dbTransfers);
@@ -1164,7 +1164,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 			       "printed."
 			       "</p>"
 			       "</html>"),
-			  I18N("Dismiss"), 0, 0);
+			  I18N("Dismiss"), NULL, NULL, 0);
     }
     else {
       GWEN_Gui_MessageBox(GWEN_GUI_MSG_FLAGS_TYPE_ERROR |
@@ -1179,7 +1179,7 @@ int AD_Provider_ProcessJob(AB_PROVIDER *
 			       "Please see console logs for details."
 			       "</p>"
 			       "</html>"),
-			  I18N("Dismiss"), 0, 0);
+			  I18N("Dismiss"), NULL, NULL, 0);
     }
 
   }
@@ -1267,7 +1267,7 @@ int AD_Provider__Execute(AB_PROVIDER *pr
 
 
 
-int AD_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx){
+int AD_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx, uint32_t guiid){
   AD_PROVIDER *dp;
   uint32_t pid;
   int cnt;
@@ -1299,7 +1299,7 @@ int AD_Provider_Execute(AB_PROVIDER *pro
 			     GWEN_GUI_PROGRESS_ALLOW_EMBED |
 			     GWEN_GUI_PROGRESS_SHOW_PROGRESS |
 			     GWEN_GUI_PROGRESS_SHOW_ABORT,
-			     I18N("Creating DTAUS Disc(s)"), msgBuf, cnt);
+			     I18N("Creating DTAUS Disc(s)"), msgBuf, cnt, 0 /*guiid?*/);
   rv=AD_Provider__Execute(pro);
   GWEN_Gui_ProgressEnd(pid);
 
--- aqbanking-3.0.1/src/plugins/backends/aqdtaus/plugin/provider_p.h.orig	2007-11-22 18:38:22.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqdtaus/plugin/provider_p.h	2008-01-05 17:54:52.620033177 +0100
@@ -69,9 +69,9 @@ static int AD_Provider__Execute(AB_PROVI
 
 static int AD_Provider_Init(AB_PROVIDER *pro, GWEN_DB_NODE *dbData);
 static int AD_Provider_Fini(AB_PROVIDER *pro, GWEN_DB_NODE *dbData);
-static int AD_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j);
-static int AD_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j);
-static int AD_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx);
+static int AD_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid);
+static int AD_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid);
+static int AD_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx, uint32_t guiid);
 static int AD_Provider_ResetQueue(AB_PROVIDER *pro);
 static int AD_Provider_ExtendAccount(AB_PROVIDER *pro, AB_ACCOUNT *a,
                                      AB_PROVIDER_EXTEND_MODE em);
--- aqbanking-3.0.1/src/plugins/backends/aqdtaus/Makefile.am.orig	2007-11-22 18:38:23.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqdtaus/Makefile.am	2008-01-05 17:57:53.125972106 +0100
@@ -2,7 +2,6 @@ SUBDIRS=plugin ui
 
 EXTRA_DIST=ChangeLog README aqdtaus.m4 version.h.in
 
-bin_SCRIPTS=aqdtaus-config
 M4dir=${prefix}/share/aclocal
 dist_M4_DATA=aqdtaus.m4
 
@@ -10,12 +9,7 @@ iheaderdir=${includedir}/aqdtaus
 iheader_HEADERS=\
   version.h
 BUILT_SOURCES = version.h
-CLEANFILES = $(BUILT_SOURCES) aqdtaus-config aqdtaus-config.in
-
-aqdtaus-config: aqdtaus-config.in
-	echo "#! /bin/sh" >aqdtaus-config && \
-	cat aqdtaus-config.in >>aqdtaus-config && \
-	chmod a+x aqdtaus-config
+CLEANFILES = $(BUILT_SOURCES)
 
 sources:
 	for d in $(SUBDIRS); do \
--- aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/plugin/provider.c.orig	2007-11-22 18:38:24.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/plugin/provider.c	2008-01-05 18:00:33.150859039 +0100
@@ -194,7 +194,7 @@ int AG_Provider_ExtendAccount(AB_PROVIDE
 
 
 
-int AG_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j){
+int AG_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid){
   AG_PROVIDER *dp;
   AB_ACCOUNT *da;
 
@@ -222,7 +222,7 @@ int AG_Provider_UpdateJob(AB_PROVIDER *p
 
 
 
-int AG_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *bj){
+int AG_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *bj, uint32_t guiid){
   AG_PROVIDER *dp;
   AB_ACCOUNT *da;
   AG_CARD *card;
@@ -597,7 +597,7 @@ int AG_Provider_ProcessCard(AB_PROVIDER 
 
     bid=GWEN_Gui_ShowBox(0,
 			 I18N("Accessing Card"),
-			 I18N("Reading card, please wait..."));
+			 I18N("Reading card, please wait..."), 0);
     rv=AG_Provider_MountCard(pro, AG_Card_GetAccount(card), &gc);
     if (rv || !gc) {
       DBG_ERROR(AQGELDKARTE_LOGDOMAIN, "Could not mount card (%d)", rv);
@@ -643,7 +643,7 @@ int AG_Provider_ProcessCard(AB_PROVIDER 
 
 
 
-int AG_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx){
+int AG_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx, uint32_t guiid){
   AG_PROVIDER *dp;
   AG_CARD *card;
   int done=0;
@@ -660,7 +660,7 @@ int AG_Provider_Execute(AB_PROVIDER *pro
 			     GWEN_GUI_PROGRESS_SHOW_ABORT,
 			     I18N("Executing GeldKarte jobs"),
 			     I18N("All GeldKarte jobs are now executed"),
-			     AG_Card_List_GetCount(dp->cards));
+			     AG_Card_List_GetCount(dp->cards), 0 /* guiid? */);
 
   card=AG_Card_List_First(dp->cards);
   if (!card) {
@@ -757,7 +757,7 @@ int AG_Provider_MountCard(AB_PROVIDER *p
 				    "Please insert your chipcard into the "
 				    "reader and click <i>ok</i>"
 				    "</html>"),
-			       I18N("OK"), I18N("Abort"), 0);
+			       I18N("OK"), I18N("Abort"), NULL, 0);
       if (mres!=1) {
 	DBG_ERROR(AQGELDKARTE_LOGDOMAIN, "Error in user interaction");
 	LC_Client_Stop(dp->chipcardClient);
@@ -848,7 +848,7 @@ int AG_Provider_MountCard(AB_PROVIDER *p
 					" chipcard into the reader and "
 					"click <i>ok</i>"
 					"</html>"),
-				   I18N("OK"), I18N("Abort"), 0);
+				   I18N("OK"), I18N("Abort"), NULL, 0);
 	  if (mres!=1) {
 	    DBG_ERROR(AQGELDKARTE_LOGDOMAIN, "Error in user interaction");
 	    LC_Client_Stop(dp->chipcardClient);
--- aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/plugin/provider_p.h.orig	2007-11-22 18:38:24.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/plugin/provider_p.h	2008-01-05 18:00:04.156036271 +0100
@@ -48,9 +48,9 @@ static int AG_Provider_ProcessCard(AB_PR
 
 static int AG_Provider_Init(AB_PROVIDER *pro, GWEN_DB_NODE *dbData);
 static int AG_Provider_Fini(AB_PROVIDER *pro, GWEN_DB_NODE *dbData);
-static int AG_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j);
-static int AG_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j);
-static int AG_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx);
+static int AG_Provider_UpdateJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid);
+static int AG_Provider_AddJob(AB_PROVIDER *pro, AB_JOB *j, uint32_t guiid);
+static int AG_Provider_Execute(AB_PROVIDER *pro, AB_IMEXPORTER_CONTEXT *ctx, uint32_t guiid);
 static int AG_Provider_ResetQueue(AB_PROVIDER *pro);
 static int AG_Provider_ExtendAccount(AB_PROVIDER *pro, AB_ACCOUNT *a,
                                      AB_PROVIDER_EXTEND_MODE em);
--- aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/ui/qt3/libs/dialogs/cfgtabpagk.cpp.orig	2007-11-22 18:38:23.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/ui/qt3/libs/dialogs/cfgtabpagk.cpp	2008-01-05 18:01:42.487155154 +0100
@@ -121,7 +121,7 @@ void CfgTabPageAccountGeldKarte::slotRea
     (0,
      QBanking::QStringToUtf8String(tr("Accessing Card")).c_str(),
      QBanking::QStringToUtf8String(tr("Reading card, "
-				      "please wait...")).c_str()
+				      "please wait...")).c_str(), 0
     );
   rv=AG_Provider_MountCard(pro, a, &card);
   GWEN_Gui_HideBox(bid);
--- aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/Makefile.am.orig	2007-11-22 18:38:24.000000000 +0100
+++ aqbanking-3.0.1/src/plugins/backends/aqgeldkarte/Makefile.am	2008-01-05 18:02:27.172783951 +0100
@@ -2,7 +2,6 @@ SUBDIRS=plugin ui
 
 EXTRA_DIST=ChangeLog README aqgeldkarte.m4 version.h.in
 
-bin_SCRIPTS=aqgeldkarte-config
 M4dir=${prefix}/share/aclocal
 dist_M4_DATA=aqgeldkarte.m4
 
@@ -10,12 +9,7 @@ iheaderdir=${includedir}/aqgeldkarte
 iheader_HEADERS=\
   version.h
 BUILT_SOURCES = version.h
-CLEANFILES = $(BUILT_SOURCES) aqgeldkarte-config aqgeldkarte-config.in
-
-aqgeldkarte-config: aqgeldkarte-config.in
-	echo "#! /bin/sh" >aqgeldkarte-config && \
-	cat aqgeldkarte-config.in >>aqgeldkarte-config && \
-	chmod a+x aqgeldkarte-config
+CLEANFILES = $(BUILT_SOURCES)
 
 sources:
 	for d in $(SUBDIRS); do \
